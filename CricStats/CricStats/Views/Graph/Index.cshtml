
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var controllerName = this.ViewContext.RouteData.Values["controller"].ToString();
}




<div id="Graph1" @*data-url="@Url.Action("getGraphData", controllerName)*@  ></div>

<div id="Graph2" @*data-url="@Url.Action("getGraphData", controllerName)"*@ ></div>



<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
<script>
    $(document).ready(function () {

        var result = @Html.Raw(ViewBag.DataPoints);
        var dataPoints =[];
        for(var i = 0; i < result.length; i++){
            dataPoints.push({ y: result[i].runsScored, label:result[i].MatchPlayer});
        }

        var chart = new CanvasJS.Chart("Graph1", {
            animationEnabled: true,
            title: {
                text: "5 Highest Run Getter For Each Match"
            },
            data: [
                {
                    type: "column",
                    dataPoints:
                        dataPoints,

                }
            ]
        });
        chart.render();


        //Graph2
        var results = @Html.Raw(ViewBag.DataPoints2);
        var dataPoints2 =[];
        for(var i = 0; i < results.length; i++){
            dataPoints2.push({ y: results[i].runsScored, label: results[i].PlayerName});
        }

        var options = {
            title: {
                text: "Toatl Highest Run Scoreres of All Time"
            },
            animationEnabled: true,
            data: [{
                type: "pie",
                startAngle: 40,
                toolTipContent: "<b>{label}</b>: {y} Runs",
                showInLegend: "true",
                legendText: "{label}",
                indexLabelFontSize: 16,
                indexLabel: "{label} - {y} Runs",
                dataPoints: dataPoints2,
            }]
        };
        $("#Graph2").CanvasJSChart(options);


    });

</script>

